# 🔒 Guia APK Rigoroso - Motoboy Tracker v3

## 📱 APK com Permissões Obrigatórias

### **✅ O que mudou no APK v3:**

#### **🔒 Permissões Obrigatórias:**
- **❌ NÃO FUNCIONA** sem localização
- **❌ NÃO FUNCIONA** sem background
- **❌ NÃO FUNCIONA** sem bateria otimizada
- **❌ NÃO FUNCIONA** sem GPS ativo

#### **⚠️ Mensagens de Erro Detalhadas:**
- Instruções claras para cada permissão
- Passo a passo para configurar
- Avisos sobre consequências

## 📥 Download do APK v3

### **URLs de Download:**
- **Dashboard:** `https://mototracker-production.up.railway.app/`
- **Download Direto:** `https://mototracker-production.up.railway.app/MotoboyTracker_Rigorous_v3.apk`
- **QR Code:** Escaneie na dashboard

## 🔧 Instalação e Configuração

### **1. Instalar APK:**
1. Baixe o APK v3
2. Instale no celular
3. Aceite instalação de fontes desconhecidas

### **2. Primeira Execução:**
1. Abra o app
2. **APARECERÃO MENSAGENS DE ERRO** se permissões não estiverem configuradas
3. Siga as instruções exibidas

### **3. Configurar Permissões (OBRIGATÓRIO):**

#### **A. Localização:**
1. `Configurações` → `Apps` → `Motoboy Tracker`
2. `Permissões` → `Localização`
3. **Escolha "Permitir sempre"**
4. **NÃO escolha "Apenas quando usar o app"**

#### **B. Background:**
1. `Configurações` → `Apps` → `Motoboy Tracker`
2. `Bateria` → `Permissões em background`
3. **Ative "Permitir em background"**

#### **C. Otimização de Bateria:**
1. `Configurações` → `Bateria` → `Otimização de Bateria`
2. Encontre "Motoboy Tracker"
3. **Selecione "Não otimizar"**

#### **D. GPS:**
1. `Configurações` → `Localização`
2. **Ative o serviço de localização**
3. **Escolha "Alta precisão"**

### **4. Testar o App:**
1. Abra o app novamente
2. Configure ID do motoboy (ex: MOT001)
3. Configure URL: `https://mototracker-production.up.railway.app/api`
4. Digite odômetro inicial
5. Clique em "Iniciar Rastreamento"

## ⚠️ Mensagens de Erro e Soluções

### **❌ "SERVIÇO DE LOCALIZAÇÃO DESABILITADO"**
**Solução:**
1. Vá em `Configurações` → `Localização`
2. Ative o serviço de localização
3. Reinicie o app

### **❌ "PERMISSÃO DE LOCALIZAÇÃO NEGADA"**
**Solução:**
1. Vá em `Configurações` → `Apps` → `Motoboy Tracker`
2. `Permissões` → `Localização`
3. Escolha "Permitir sempre"
4. Reinicie o app

### **❌ "PERMISSÃO DE BACKGROUND NEGADA"**
**Solução:**
1. Vá em `Configurações` → `Apps` → `Motoboy Tracker`
2. `Bateria` → `Permissões em background`
3. Ative "Permitir em background"
4. Reinicie o app

### **⚠️ "OTIMIZAÇÃO DE BATERIA ATIVA"**
**Solução:**
1. Vá em `Configurações` → `Bateria`
2. `Otimização de Bateria`
3. Encontre "Motoboy Tracker"
4. Selecione "Não otimizar"
5. Reinicie o app

## 🎯 Funcionamento Garantido

### **✅ Com Todas as Permissões:**
- **Rastreamento contínuo** - Funciona 24/7
- **Background ativo** - Continua mesmo fechado
- **Bateria otimizada** - Não para por economia
- **GPS preciso** - Localização exata

### **❌ Sem Permissões:**
- **App não inicia** - Bloqueia funcionamento
- **Mensagens de erro** - Instruções claras
- **Configuração obrigatória** - Não funciona sem

## 📊 Monitoramento

### **Verificar se está funcionando:**
1. **Dashboard:** `https://mototracker-production.up.railway.app/`
2. **Deve mostrar:** Sessão ativa
3. **Localização:** Atualiza a cada 30 segundos

### **Sinais de que está funcionando:**
- ✅ App não mostra erros
- ✅ Rastreamento inicia normalmente
- ✅ Dashboard mostra dados
- ✅ Localização atualiza em tempo real

## 🔄 Atualização

### **Se já tem versão anterior:**
1. **Desinstale** a versão antiga
2. **Instale** a versão v3
3. **Configure** todas as permissões
4. **Teste** o funcionamento

### **Backup de configurações:**
- O app salva configurações automaticamente
- ID do motoboy e URL são preservados
- Só precisa reconfigurar permissões

## 🚨 Importante

### **⚠️ Este APK é RIGOROSO:**
- **NÃO funciona** sem permissões completas
- **Bloqueia** uso inadequado
- **Força** configuração correta
- **Garante** funcionamento contínuo

### **✅ Vantagens:**
- **Funcionamento garantido** - Sem paradas inesperadas
- **Rastreamento contínuo** - 24/7 sem interrupções
- **Configuração única** - Só precisa fazer uma vez
- **Monitoramento confiável** - Dados sempre atualizados

---

**🎯 Agora o app só funciona se todas as permissões estiverem configuradas corretamente! 🔒**
